{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Departments{% endblock %}</h1>
  <a class="btn btn-primary" href="{{ url_for('departments.create') }}">Add</a>
{% endblock %}

{% block content %}
<table class="table table-striped">
                    <thead class="fw-bold">
                    <tr>
                    <td>#</td>
                    <td>Dept name</td>
                    <td>View</td>
                    <td># employees</td>
                    <td>Avg salary, $</td>
                    <td>Edit</td>
                    <td>Delete</td>
                    </tr>
                    </thead>
                    <tbody>
                    {% for department in departments %}
                    <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ department['name'] }}</td>
                    <td><button class="btn btn-outline-primary">View</button></td>
                    <td>{{ department.number_of_employees }}</td>
                    <td>{{ department.average_salary }}</td>
                    <td><a class="btn btn-outline-primary" href="{{ url_for('departments.update', uuid=department['uuid']) }}">Edit</a></td>
                    <td>
                        <form action="{{ url_for('departments.delete', uuid=department['uuid']) }}" method=post>
                            <input type=submit class="btn btn-outline-danger" value=Delete>
                        </form>
                    </td>
                    </tr>
                    {% endfor %}
                    </tbody>
                    </table>

{% endblock %}